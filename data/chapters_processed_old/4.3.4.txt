4.3.4 Verbergen der Repräsentation des Zustands hinter Methoden

In SMALLTALK sind die Instanzvariablen eines Objekts nur für das Objekt selbst sichtbar (und somit auch zugreifbar). Genauer gesagt, sind die Methoden die einzigen Stellen im gesamten Programm, an denen auf die Instanzvariablen des Objekts, dem die Methoden zugeordnet sind, direkt zugegriffen werden kann. Die Struktur des Objekts bleibt somit verborgen, und sein Zustand wird gekapselt.

Frage: Wie sind Instanzvariablen in SMALLTALK sichtbar?
Antwort: In SMALLTALK sind die Instanzvariablen eines Objekts nur für das Objekt selbst sichtbar, um den Zustand des Objekts zu kapseln und seine Struktur vor direktem Zugriff von außen zu schützen.

Um die Belegung der Instanzvariablen und damit den Zustand eines Objekts auszulesen oder zu verändern, sind Methoden erforderlich. Beispielsweise muss das Objekt eine Methode bereitstellen, die den Wert einer Instanzvariable mit dem Namen "a" zurückgibt.
Diese Methode entspricht im Wesentlichen einem in JAVA gebräuchlichen sogenannten "Getter" für eine ansonsten nicht zugreifbare Variable. Es ist wichtig zu beachten, dass die Namensgleichheit von Methode und Variable nicht darüber hinwegtäuschen sollte, dass es sich um verschiedene Dinge handelt - Methode und Variable könnten genauso gut unterschiedliche Namen haben. Um einen Wert zu setzen, definiert man üblicherweise "Setter" genannte Methoden. Getter und Setter werden zusammen auch als "Zugriffsmethoden" oder "Accessoren" bezeichnet.

Frage: Was sind Zugriffsmethoden?
Antwort: Zugriffsmethoden sind Methoden, um die Belegung der Instanzvariablen und damit den Zustand eines Objekts auszulesen oder zu verändern. In JAVA gibt es dafür Getter und Setter.

Auf der anderen Seite bedeutet die begrenzte Sichtbarkeit von Instanzvariablen nicht, dass der Zugriff auf Objekte, auf die sie verweisen, verhindert wird (aufgrund von möglichen Aliasen). In SMALLTALK ist ein direkter Zugriff auf die Instanzvariable von außen wie in JAVA nicht möglich. Der Zugriff auf eine Instanzvariable kann also durch das Fehlen entsprechender Zugriffsmethoden verhindert werden, oder er kann auf Lesen oder Schreiben beschränkt werden, indem nur die jeweilige Zugriffsmethode zur Verfügung gestellt wird.
Schließlich sei darauf hingewiesen, dass im Gegensatz zu benannten Instanzvariablen indizierte Instanzvariablen nicht direkt, sondern nur über die beiden vordefinierten Nachrichten "at:" und "at:put:" gelesen und geschrieben werden können. Es ist in SMALLTALK also nicht möglich, indizierte Instanzvariablen eines Objekts (im Gegensatz zu benannten) durch Nicht-Deklaration von Zugriffsmethoden zu verbergen (vor Zugriff zu schützen). Zugleich folgt aus der festen Vorgabe der beiden Zugriffsmethoden, dass jedes Objekt nur genau eine (unbenannte) Menge von indizierten Instanzvariablen haben kann.

Frage: Was unterscheidet eine benannte Instanzvariable und eine indizierte Instanzvariable in SMALLTALK?
Antwort: In SMALLTALK können benannte Instanzvariablen direkt über ihren Namen zugegriffen werden, während indizierte Instanzvariablen nur über die vordefinierten Nachrichten "at:" und "at:put:" gelesen und geschrieben werden können. Der Zugriff auf indizierte Instanzvariablen erfolgt nicht über Zugriffsmethoden, sondern über diese Nachrichten.

Die ausschließliche Abfrage und Änderung des Zustandes von Objekten über Methoden hat den Vorteil, dass man sich nicht darauf festlegt, wie der Zustand eines Objekts tatsächlich codiert ist. So können beispielsweise einem Punktobjekt Methoden zum Setzen und Abfragen sowohl von kartesischen als auch von polaren Koordinaten zugeordnet werden. Dabei muss nur eine Instanzvariable für eine Art von Koordinaten vorgesehen werden, und die anderen können jeweils berechnet werden. Dies ermöglicht eine flexible Gestaltung der Zustandsrepräsentation eines Objekts, während die Schnittstelle zur Abfrage und Änderung des Zustands durch Methoden definiert wird.
Man betrachtet die Art und Weise, wie ein Objekt seinen Zustand codiert, als sein Implementationsgeheimnis und die Menge der Methodensignaturen, die den Zugriff auf das Objekt (seinen Zustand) erlauben, als sein Interface.

Frage: Was ist das Interface eines Objekts?
Antwort: Das Interface eines Objekts ist die Art und Weise, wie ein Objekt seinen Zustand codiert, als sein Implementationsgeheimnis und die Menge der Methodensignaturen, die den Zugriff auf das Objekt (seinen Zustand) erlauben.
1.5.1 Inhalt von Variablen

Das bezeichnete Objekt wird manchmal auch als "Wert" oder "Inhalt" der Variable bezeichnet (und die Variable selbst als Platzhalter des Objekts). Besonders die Verwendung von "Inhalt" ist jedoch gefährlich, da sie nahelegt, dass ein Objekt zu einem Zeitpunkt nur von genau einer Variable bezeichnet werden kann, ähnlich wie ein Gegenstand zu einer Zeit immer nur Inhalt eines Behälters sein kann. Tatsächlich können aber mehrere Variablen gleichzeitig auf ein und dasselbe Objekt verweisen – die Variablen haben nämlich nur Verweise (auch Referenzen oder Pointer genannt) auf Objekte (genauer gesagt auf die Speicherstellen, an denen die Objekte abgelegt sind) und nicht den Inhalt selbst. Man spricht deshalb von einer Verweis- oder Referenzsemantik von Variablen, im Gegensatz zur Wertsemantik, bei der das bezeichnete Objekt tatsächlich auch den Inhalt der Variable ausmacht.

Frage: Was ist der "Inhalt" einer Variable?
Antwort: Der "Inhalt" einer Variable bezieht sich auf das Objekt, das von der Variable bezeichnet wird.

Frage: Was ist Verweis- oder Referenzsemantik?
Antwort: Bei Verweis- oder Referenzsemantik haben Variablen nur Verweise die Speicherstellen, an denen die Objekte abgelegt sind.

Frage: Was ist Wertsemantik?
Antwort: Bei Wertsemantik macht das bezeichnete Objekt tatsächlich den Inhalt der Variable aus.

Aus technischer Sicht entspricht eine Variable einer Stelle im Speicher. Bei Variablen mit Verweissemantik steht an dieser Stelle jedoch nicht das Objekt, das sie bezeichnet, sondern lediglich ein Verweis auf die Speicherstelle, an der das Objekt gespeichert ist. Es handelt sich also bei Variablen mit Verweissemantik aus technischer Sicht um Pointervariablen, wie man sie auch aus nicht objektorientierten Programmiersprachen wie Pascal oder C kennt.

Frage: Was ist eine Variable aus technischer Sicht?
Antwort: Aus technischer Sicht entspricht eine Variable einer Stelle im Speicher.

Frage: Was sind Variablen mit Verweissemantik?
Antwort: Es handelt sich bei Variablen mit Verweissemantik aus technischer Sicht um Pointervariablen.

Verweis- und Wertsemantik von Variablen unterscheiden sich fundamental: Unter Wertsemantik können, solange jedes Objekt seine eigene Identität hat, zwei Variablen niemals dasselbe Objekt bezeichnen, während Verweissemantik erlaubt, dass mehrere Variablen auf dasselbe Objekt verweisen. Da die Verweissemantik einen wesentlich speicher- und recheneffizienteren Umgang mit Objekten erlaubt und da unterschiedliche Objekte wie oben beschrieben unterschiedlich viel Speicherplatz belegen, so dass man im Vorfeld nicht immer weiß, wie viel davon man für eine Variable vorsehen muss, ist sie in der objektorientierten Programmierung vorherrschend. In manchen Sprachen, die neben Objekten auch Werte kennen, haben Variablen, die Objekte aufnehmen, stets Verweissemantik, und Variablen, die Werte aufnehmen, stets Wertsemantik (z. B. JAVA); andere objektorientierte Sprachen erlauben der Programmiererin, für jede Variable getrennt festzulegen, ob sie Wert- oder Verweissemantik haben soll (so z. B. C++ und EIFFEL).

Frage: Was ist der Unterschied zwischen Verweissemantik und Wertsemantik von Variablen?
Antwort: Unter Wertsemantik können zwei Variablen niemals dasselbe Objekt bezeichnen, während Verweissemantik erlaubt, dass mehrere Variablen auf dasselbe Objekt verweisen.

Frage: Warum wird in der objektorientierten Programmierung häufig Verweissemantik verwendet?
Antwort: Verweissemantik wird in der objektorientierten Programmierung häufig verwendet, da sie einen speicher- und recheneffizienten Umgang mit Objekten ermöglicht und unterschiedliche Objekte unterschiedlich viel Speicherplatz belegen.

Frage: Haben Variablen Wert- oder Verweissemantik?
Antwort: In manchen Sprachen haben Variablen, die Objekte aufnehmen, stets Verweissemantik, und Variablen, die Werte aufnehmen, stets Wertsemantik, z. B. JAVA. Andere objektorientierte Sprachen erlauben der Programmiererin, für jede Variable getrennt festzulegen, ob sie Wert- oder Verweissemantik haben soll, z. B. C++ und EIFFEL.

Nun ist besonders für unveränderliche Objekte, deren interne Repräsentation klein ist (die also wenig Speicherplatz belegt), die Forderung nach der Speicherung eines Objektes an genau einem Ort und Speicherung von Wert- und Verweisen in Variablen (also die Speicherung in Variablen mit Verweissemantik) ineffizient. Welchen Sinn hätte es beispielsweise, allen Zeichen eine Identität zu geben, an der mit der jeweiligen Identität verbundenen Stelle im Speicher die internen Repräsentationen zu hinterlegen und dann in Variablen die Speicherstelle (Identität) zu speichern, wenn der Verweis mehr Speicher belegt als das Zeichenobjekt, auf das verwiesen wird? Das Gleiche gilt auch für Zahlen bis zu einer gewissen Größe.
In den meisten SMALLTALK-Implementationen wurde dieses Problem so gelöst, dass Variablen, die Zeichen, kleine Zahlen und die booleschen Werte true und false bezeichnen, Wertsemantik haben. Die Objekte können damit tatsächlich an mehreren Stellen im Speicher gespeichert werden, was einen Widerspruch zur reinen Lehre darstellt. Zwar geht damit der Begriff der Identität für diese Objekte verloren, aber für die Programmiererin ist die damit verbundene mehrfache Existenz identischer Objekte im Speicher insofern ohne größere Bedeutung, als hier Gleichheit problemlos an die Stelle der Identität treten kann. Der Preis für diese Flexibilität ist jedoch, dass man den Variablen nicht mehr fix Wert- oder Verweissemantik zuordnen kann – diese hängt vielmehr jeweils von der Art der Objekte ab, die sie gerade bezeichnen. In diesem Fall würde man Wert- bzw. Verweissemantik eher als eine Eigenschaft des Objekts denn der Variable ansehen; das ist jedoch ziemlich SMALLTALK-spezifisch.

Frage: Welche Variablen haben in SMALLTALK Wertsemantik?
Antwort: In den meisten SMALLTALK-Implementationen haben Variablen, die Zeichen, kleine Zahlen und boolesche Werte bezeichnen, Wertsemantik, um Speicherplatz zu sparen, obwohl der Begriff der Identität für diese Objekte verloren geht. Die mehrfache Existenz identischer Objekte im Speicher hat in der Regel keine große Bedeutung, da Gleichheit an die Stelle der Identität treten kann.
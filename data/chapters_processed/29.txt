29 Generische Typen oder parametrischer Polymorphismus

Typen beschränken die Wertebereiche von Variablen und Methoden. Inklusionspolymorphie lockert diese Beschränkung insofern, als dadurch Wertebereiche von Typen um die von Subtypen erweitert werden können, selbst wenn diese Subtypen zum Zeitpunkt der Typdefinition noch gar nicht bekannt waren. Nun ist Inklusionspolymorphie nicht die einzige Möglichkeit, den Wertebereich eines Typs variabel zu halten, ohne die statische Typprüfung aufgeben zu müssen. Eine andere ist, einen Typ mit einem oder mehreren anderen zu parametrisieren.
Eine parametrische Typdefinition unterscheidet sich von einer normalen dadurch, dass in der Typdefinition verwendete, andere Typen nicht genannt (referenziert) werden müssen, sondern durch Platzhalter, die Typparameter, vertreten werden können. Diese Platzhalter sind Variablen, deren Wert implizit (also ohne entsprechende Deklaration) auf Typen beschränkt ist; man nennt sie auch Typvariablen. Diese Typvariablen werden erst bei der Verwendung eines parametrisierten Typs in der Deklaration eines anderen Programmelements mit einem Wert, also einem Typ, belegt. Man spricht bei dieser Wertzuweisung an eine Typvariable von einer Instanziierung des parametrischen Typs; erst bei ihr entsteht ein konkreter Wertebereich, der dann dem deklarierten Programmelement zugeordnet wird. Insbesondere hat ein parametrischer Typ, bei dem Typvariablen nicht belegt sind, keinen konkreten Wertebereich. Dieser Umstand ist bei der Betrachtung von Zuweisungskompatibilität unter parametrischem Polymorphismus wichtig.
Die Idee des parametrischen Polymorphismus ist, aus einer Typdefinition durch Parametrisierung viele zu machen. Eine parametrische Typdefinition steht also nicht für einen Typ, sondern für (theoretisch) beliebig viele — sie erlaubt es gewissermaßen, Unterschiede zur Typen nach Bedarf zu generieren. Wohl deswegen bezeichnet man parametrische Typen (Typdefinitionen) auch als generische Typen (Typdefinitionen) oder kurz als Generics. Wie eben schon erwähnt, wird der Wertebereich bei einer solchen Typgeneration jeweils mitgeneriert.
Es erfolgt also die Zuweisung eines Typs zu einer Typvariable bei der Verwendung eines parametrisch definierten Typs in einer Deklaration, beispielsweise der Deklaration einer Variable oder des Rückgabewerts einer Methode. Oberflächlich betrachtet entspricht diese Verwendung in etwa dem Aufruf einer (ja auch an einer anderen Stelle definierten) Methode oder besser (und schon aufgrund der Verwendung des Begriffs Instanziierung) eines Konstruktors; deswegen nennt man die Typvariablen, die in parametrischen Typdefinitionen vorkommen, auch formale Typparameter und die konkreten Typen, die bei der Verwendung des Typen in Deklarationen in die formalen Parameter eingesetzt werden, auch tatsächliche Typparameter. Trotz dieser Analogie zu Methoden- bzw. Konstruktoraufrufen muss man sich immer vor Augen halten, dass die Verwendung eines parametrisch definierten Typs bereits zur Übersetzungszeit zu einer Zuweisung an die Typvariablen führt, man es also keineswegs mit etwas Dynamischem zu tun hat. Insbesondere müssen Typen keine Objekte sein, um Typvariablen zugewiesen werden zu können.

Frage: Was unterscheidet eine parametrische Typdefinition und eine normale Typdefinition?
Antwort: Der Unterschied besteht darin, dass in einer parametrischen Typdefinition andere Typen durch Platzhalter, sogenannte Typparameter, vertreten werden können, die erst bei der Verwendung des parametrisierten Typs belegt werden. Bei einer normalen Typdefinition werden die anderen Typen direkt genannt.

Frage: Was sind Typvariablen in parametrischen Typdefinitionen?
Antwort: Typvariablen sind Platzhalter in parametrischen Typdefinitionen, die implizit auf Typen beschränkt sind und erst bei der Verwendung eines parametrisierten Typs mit einem konkreten Typ belegt werden.

Frage: Was ist die Idee des parametrischen Polymorphismus?
Antwort: Die Idee des parametrischen Polymorphismus besteht darin, aus einer Typdefinition durch Parametrisierung viele verschiedene Typen zu generieren, je nachdem, welche konkreten Typen als Typparameter verwendet werden.

Frage: Wie erfolgt die Zuweisung eines Typs zu einer Typvariable bei der Verwendung eines parametrisch definierten Typs?
Antwort: Die Zuweisung eines Typs zu einer Typvariable erfolgt bei der Verwendung eines parametrisch definierten Typs in einer Deklaration, z. B. der Deklaration einer Variable oder des Rückgabewerts einer Methode. Diese Verwendung entspricht oberflächlich betrachtet dem Aufruf einer Methode oder eines Konstruktors, führt aber bereits zur Übersetzungszeit zu einer Zuweisung an die Typvariablen.

Frage: Warum nennt man parametrische Typen auch generische Typen oder Generics?
Antwort: Parametrische Typen werden auch als generische Typen oder Generics bezeichnet, weil sie die Idee verfolgen, aus einer Typdefinition generisch (theoretisch für beliebig viele Typen) viele Typen zu erzeugen, je nach Bedarf. Sie ermöglichen eine gewisse Generizität in der Typsicherung.

Frage: Müssen die zugewiesenen Typen Objekte sein, um Typvariablen in parametrischen Typen zu belegen?
Antwort: Nein, die zugewiesenen Typen müssen keine Objekte sein, um Typvariablen in parametrischen Typen zu belegen. Es können auch andere Typen sein, solange sie die erforderlichen Bedingungen erfüllen.
4.6.1 Verzweigung

Die einfache Verzweigung wird in SMALLTALK durch das Versenden einer Nachricht, die die bedingt auszuführenden Anweisungen in Form eines Blocks als Parameter enthält, an einen Wahrheitswert realisiert. Zum Beispiel gibt die Meldung „x > 5“ genau dann auf der Konsole aus, wenn x > 5 zu true auswertet.
Um zu verstehen, wie das funktioniert, sehen wir uns zunächst die Implementierung der Verzweigung mittels ifTrue: an. Sie wird durch eine Methode ifTrue: aBlock realisiert, die als Parameter einen Block, also eine Folge von Anweisungen, erhält. Diese Methode wird der Bedeutung von "If" entsprechend entweder ausgeführt oder eben nicht. Sie ist jeweils unterschiedlich implementiert für die beiden Objekte true und false (genauer: für die beiden Objekte, die die Pseudovariablen true und false benennen; siehe Abschnitt 1.7).
Aufgrund der Continuation bei Blöcken (siehe Abschnitt 4.4.2) ist es möglich, aus einer Methode mittels ifTrue: bedingt zurückzukehren.
Eigentlich ist dies viel zu banal, um es zu erwähnen, aber da es nur ein einziges Mal gemacht werden muss und dabei so etwas Fundamentales wie die Verzweigung realisiert wird, kann man sich auch darüber freuen.
Falls Sie dies dennoch für einen unwichtigen "Budenzauber" halten, dann haben Sie zumindest nicht völlig unrecht: Die Verzweigung ist nämlich gar nicht wirklich aus dem Sprachkern verschwunden, sie ist nur an einer Stelle versteckt, an der Sie sie vielleicht nicht vermuten: an der Stelle der Auswahl der Methode, die in Reaktion auf den Empfang einer Nachricht ausgeführt wird (also beim dynamischen Binden).

Frage: Wie wird die einfache Verzweigung in SMALLTALK realisiert?
Antwort: In SMALLTALK wird die einfache Verzweigung durch das Versenden einer Nachricht an einen Wahrheitswert realisiert. Diese Nachricht enthält die bedingt auszuführenden Anweisungen in Form eines Blocks als Parameter. Zum Beispiel wird die Meldung "x > 5" aufgerufen, wenn x größer als 5 ist.

Frage: Wie wird die Methode ifTrue: in SMALLTALK implementiert?
Antwort: Die Methode ifTrue: in SMALLTALK wird so implementiert, dass sie als Parameter einen Block (eine Folge von Anweisungen) erhält. Diese Methode wird je nach Wahrheitswert (true oder false) unterschiedlich ausgeführt und führt den übergebenen Block aus, wenn die Bedingung erfüllt ist. Es ist möglich, aus einer Methode mittels ifTrue: bedingt zurückzukehren, aufgrund der Continuation bei Blöcken.
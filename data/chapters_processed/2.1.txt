2.1 Instanzvariablen

Jedem Objekt können eine Menge von lokalen Variablen zugeordnet werden. Aus Gründen, auf die wir noch zu sprechen kommen, heißen diese Variablen Instanzvariablen; sie werden aber manchmal auch als Felder oder Attribute bezeichnet. Die Instanzvariablen eines Objekts sind in gewisser Weise in seinem Besitz: Sie sind für andere Objekte nicht sichtbar und damit auch nicht zugreifbar. Die Sichtbarkeit ist also auf das jeweils besitzende Objekt eingeschränkt. Außerdem ist die Existenz dieser Variablen an die Existenz des besitzenden Objekts gebunden.
Instanzvariablen bestimmen die Struktur zusammengesetzter Objekte (die manchmal deswegen auch strukturierte Objekte genannt werden) — atomare Objekte haben keine Instanzvariablen. Jede Instanzvariable eines Objekts belegt dabei einen Teil des Speichers aus seiner Repräsentation, indem sie öffentlich zugängliche Instanzvariablen erlauben und selbst nicht verhindern, dass ein anderes Objekt der gleichen Klasse darauf zugreift. Etwas anderes ist es jedoch auch in SMALLTALK mit den Objekten, auf die die Variablen verweisen: Aufgrund möglicher Aliase kann der Zugriff nicht so leicht einem einzigen Objekt vorbehalten werden.

Frage: Was sind Instanzvariablen?
Antwort: Instanzvariablen sind lokale Variablen, die einem Objekt zugeordnet sind und dazu verwendet werden, Informationen zu speichern, die spezifisch für dieses Objekt sind. Sie bestimmen die Struktur zusammengesetzter Objekte.

Frage: Was ist die Sichtbarkeit von Instanzvariablen in SMALLTALK?
Antwort: Die Sichtbarkeit von Instanzvariablen in SMALLTALK ist auf das besitzende Objekt beschränkt. Instanzvariablen können von anderen Objekten nicht direkt zugegriffen werden.

In SMALLTALK werden zwei Arten von Instanzvariablen unterschieden: benannte und indizierte. Jede benannte Instanzvariable benennt (oder verweist auf) jeweils ein Objekt; der Name der Variable wird somit für die Dauer, in der die Variable auf das Objekt verweist, auch zum Namen des Objekts. Da es sich bei Instanzvariablen um lokale Variablen handelt, muss der Name einer benannten Instanzvariablen in SMALLTALK mit einem Kleinbuchstaben beginnen.
Indizierte Instanzvariablen haben keine Namen, sondern werden über einen Index relativ zu dem Objekt, zu dem sie gehören, angesprochen. Damit ist der Index gewissermaßen der Name der Instanzvariable. Der Index muss eine natürliche Zahl größer 0 sein. Um den Inhalt der indizierten Instanzvariable an der Indexposition i (genauer: an der Indexposition, die durch das Zahlobjekt bestimmt wird, auf das i verweist) zu erhalten, schreibt man: at: i.
Wer bei indizierten Instanzvariablen an Arrays denkt, liegt richtig. Indizierte Instanzvariablen sind kein Unikat von SMALLTALK: So bieten beispielsweise C# und VISUAL BASIC sog. Indexer, die im Wesentlichen indizierten Instanzvariablen entsprechen. Auch verfügen manche Objekte in VISUAL BASIC FOR APPLICATIONS (VBA) über eine Variable Item, deren Elemente über Indizierung des Objekts, dem sie zugeordnet ist, angesprochen werden können.

Frage: Was sind zwei Arten von Instanzvariablen in SMALLTALK?
Antwort: In SMALLTALK werden zwei Arten von Instanzvariablen unterschieden: benannte und indizierte Instanzvariablen.

Frage: Was sind benannte Instanzvariablen in SMALLTALK?
Antwort: Benannte Instanzvariablen sind Instanzvariablen, die jeweils auf ein bestimmtes Objekt verweisen oder es benennen. Der Name der Variablen wird zum Namen des Objekts, auf das sie verweisen.

Frage: Was sind indizierte Instanzvariablen in SMALLTALK?
Antwort: Indizierte Instanzvariablen haben keine Namen, sondern werden über einen Index relativ zum Objekt angesprochen, dem sie gehören. Der Index fungiert gewissermaßen als Name für die Instanzvariable.

Frage: Was sind Indexer?
Antwort: Indexer sind ähnlich zu indizierten Instanzvariablen und werden beispielsweise von C# und VISUAL BASIC verwendet.

Die Anzahl der indizierten Instanzvariablen eines Objekts ist fix. Damit ist auch die Größe eines Objekts mit indizierten Instanzvariablen fest; insbesondere können Array-Objekte nicht wachsen. Es müssen aber nicht alle indizierten Instanzvariablen belegt sein; die „leeren“ enthalten dann nil.

Frage: Wie ist die Anzahl indizierten Instanzvariablen eines Objekts?
Antwort: Die Anzahl der indizierten Instanzvariablen eines Objekts ist fix, und die Größe eines Objekts mit indizierten Instanzvariablen ist ebenfalls fest und kann nicht verändert werden.

Es bleibt noch die Frage, wie Objekte in SMALLTALK in den Besitz von Instanzvariablen gelangen. Um das zu erklären, müsste an dieser Stelle auf das Konzept der Klasse vorgegriffen werden, was aber aus didaktischen Gründen unterbleiben soll. Gelernte PASCAL-Programmierer können sich die Instanzvariablen jedoch wie die Felder eines Records vorstellen (oder C-Programmierer wie die eines Structs), die in der Record-Definition festgelegt werden und die für jede Variable vom Typ dieses Records zur Verfügung stehen. Für alle anderen mag es reichen, sich vorzustellen, dass jedes Objekt automatisch über zwei spezielle Variablen verfügt, die die Namen und die zugewiesenen Objekte aller seiner Instanzvariablen verwalten.
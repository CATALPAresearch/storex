3.1 Eingrenzung

Eine etwas eingeschränktere Sicht auf den Zustand eines Objekts berücksichtigt lediglich seine Attributwerte. Dies setzt jedoch voraus, dass überhaupt eine klare Unterscheidung zwischen Attributen und Beziehungen getroffen werden kann. In Ermangelung spezieller Schlüsselwörter könnte dies, wie bereits oben diskutiert, allenfalls über die Unterscheidung zwischen Variablen mit Wert- und Variablen mit Referenzsemantik erfolgen. Diese Unterscheidung ist jedoch nicht immer eindeutig, und in einigen Programmiersprachen ist sie gar nicht zutreffend (z.B., in Java, in dem Strings zwar unveränderlich sind und daher eigentlich als Werte gelten, aber dennoch Referenzsemantik aufweisen). In SMALLTALK hingegen, in dem alle Instanzvariablen Referenzen sein können, ist diese Einschränkung nicht anwendbar.

Frage: Wie lässt sich der Zustand eines Objekts eingrenzen?
Antwort: Der Zustand eines Objekts ließe sich auf seine Attributwerte eingrenzen. Da es jedoch keine klare Unterscheidung zwischen Attributen und Beziehungen gibt, kann dies allenfalls über die Unterscheidung zwischen Variablen mit Wert- und Variablen mit Referenzsemantik erfolgen.

Frage: Was unterscheidet Attribute und Beziehungen?
Antwort: Die Unterscheidung zwischen Attributen und Beziehungen kann in Ermangelung spezieller Schlüsselwörter allenfalls über die Unterscheidung zwischen Variablen mit Wert- und Variablen mit Referenzsemantik erfolgen. Diese ist jedoch in einigen Programmiersprachen nicht immer eindeutig ist und beispielsweise in Java gar nicht zutreffend.

Man könnte nun die oben genannte Aussage, dass Zustandsänderungen eines Objekts ausschließlich über Zuweisungen an seine Instanzvariablen erfolgen können, anzweifeln und fragen, ob sich der Zustand eines Objekts auch dann ändert, wenn sich der Zustand eines Objekts, auf das es (per Instanzvariable) verweist, ändert. Zunächst würde man diese Frage verneinen, da andernfalls jede Änderung an einem Objekt fast immer zu einer Kettenreaktion führen würde. Der Zustand aller Objekte, die direkt oder indirekt darauf verweisen, würde sich ändern. Diese Definition von Zustand würde jedoch kaum unserem Weltbild entsprechen. Zum Beispiel würde eine Änderung Ihres Familienstandes kaum etwas an meinem Zustand ändern, obwohl wir in einer (direkten oder indirekten) Beziehung stehen. Doch wie ist es, wenn ich meinen Namen ändere? Ändert sich dann mein Zustand?
Während man diese Frage sicherlich mit "ja" beantworten wird, ist Ihr Name als String ein eigenständiges Objekt, das seinen Zustand ändert, wenn einzelne Buchstaben darin ausgetauscht oder hinzugefügt werden. Nach der oben genannten Auffassung ändert sich jedoch mein Zustand als Besitzer des Namens dadurch nicht. Für einen solchen Fall lässt sich technisch kein Sonderfall begründen. Das objektorientierte Denkmodell ist daher nicht ganz ohne Herausforderungen und Programmierfehler können in vermeintlich simplen Situationen auftreten. Es ist daher sinnvoll, wenn Strings, wie von einigen SMALLTALK-Dialekten (und übrigens auch von Java) vorgesehen, immer unveränderlich (immutable) sind.

Frage: Warum ändert sich der Zustand eines Objekts nur über Instanzvariablen?
Antwort: Wenn Änderungen am Zustand eines Objekts, auf das ein anderes Objekt per Instanzvariable verweist, als Änderung des Zustands des ersten Objekts betrachtet würden, könnte jede Änderung an einem Objekt zu einer Kettenreaktion führen, da der Zustand aller Objekte, die darauf verweisen, sich ändern würde. Dies entspricht nicht unserem üblichen Verständnis von Zustand.

Frage: Warum ist der Zustandsbegriff nicht auf mehrere Objekte im Allgemeinen ausgedehnt?
Antwort: Der Zustandsbegriff kann nicht auf mehrere Objekte im Allgemeinen ausgedehnt werden, da dies zu komplexen Problemen führen würde und das objektorientierte Modell nicht ohne Herausforderungen ist. Programmierfehler könnten in vermeintlich simplen Situationen auftreten.

Obwohl es nicht sinnvoll ist, den Zustandsbegriff auf mehrere Objekte im Allgemeinen auszudehnen, ist dies für Kompositionen, also für aus Teilen zusammengesetzte Ganze, durchaus angemessen. Wenn zum Beispiel ein Dokument aus mehreren Seiten besteht, die wiederum aus Zeilen und Spalten bestehen, ändert sich der Zustand des gesamten Dokuments, wenn eine Zeile geändert wird. Dies wird weiter unten noch eine Rolle spielen, insbesondere im Zusammenhang mit Aliasing. Wenn man davon ausgeht, dass Zustandsänderungen eines Objekts immer die Angelegenheit des Objekts selbst sind, dürfen keine externen Aliase auf seine Teile existieren. Andernfalls könnte eine Zustandsänderung von außen aufgezwungen werden. Die Zustandsänderung sollte daher gekapselt sein.

Frage: Wann ist es angemessen, den Zustandsbegriff auf mehrere Objekte auszudehnen?
Antwort: Es ist angemessen, den Zustandsbegriff auf mehrere Objekte auszudehnen, wenn es sich um Kompositionen handelt, also um aus Teilen zusammengesetzte Ganze.
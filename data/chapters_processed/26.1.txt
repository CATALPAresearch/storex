26.1 Der Begriff des Subtyps

Ein Subtyp ist als ein Typ definiert, dessen Werte oder Objekte überall auftauchen dürfen, wo ein Wert des Typs, von dem er ein Subtyp ist, verlangt wird. Subtyp steht dabei nicht für eine besondere Art von Typ, sondern vielmehr für eine Rolle in einer Beziehung zwischen zwei Typen, nämlich der Subtypenbeziehung. Die Gegenrolle heißt Supertyp.


Frage: Was ist ein Subtyp?
Antwort: Ein Subtyp ist ein Typ, dessen Werte oder Objekte überall auftauchen dürfen, wo ein Wert des Typs, von dem er ein Subtyp ist, verlangt wird. Subtyp ist eine Rolle in einer Beziehung zwischen zwei Typen, nämlich der Subtypenbeziehung, und die Gegenrolle heißt Supertyp.

Frage: Was ist eine Klasse?
Antwort: Eine Klasse ist ein Bauplan für Objekte, die beschreibt, welche Attribute und welches Verhalten ein Objekt hat.

Frage: Was ist ein Objekt?
Antwort: Ein Objekt ist eine Instanz einer Klasse.


Man beachte, dass diese Definition von Subtypen Zuweisungskompatibilität impliziert: Wenn die Objekte eines Subtypen überall auftauchen dürfen, wo Objekte seines Supertyps erwartet werden, dann dürfen sie auch Werte von jemandem zugreifen, der bei einer Zeichnung auf ihre Zeilen zugreifen will. Außerdem müsste bei der ersten Annahme des allgemeinsten Typs, von dem alle anderen abgeleitet sind (Object in STRONGTALK), immer alle Attribute deklariert werden, die einem jemals in den Sinn kämen, und das wäre nun wirklich unpraktisch. Die Problemquelle könnten Variablen sein, die mit dem Supertypen annotiert sind (auf Werte des Supertyps beschränkt). Ein Subtyp ist also per Definition mit seinem Supertyp zuweisungskompatibel. In dieser Definition steckt jedoch eine gewisse Zirkularität (Subtyp als Voraussetzung und Ergebnis der Zuweisungskompatibilität), die eine Einfachheit der Zusammenhänge vortäuscht, die es in Wirklichkeit nicht gibt. Die eigentliche Frage, was nämlich erfüllt sein muss, damit ein Objekt eines Typs tatsächlich dort erscheinen darf, wo ein Objekt eines anderen Typs erwartet wird, bleibt unberücksichtigt. Eine Befassung mit dieser Frage erfolgt hier jedoch nur insoweit, wie dies heutige Typsysteme tatsächlich tun; eine genauere Betrachtung erfolgt dann erst in Kurseinheit 6, Kapitel 54.


Frage: Was ist Zuweisungskompatibilität?
Antwort: Zuweisungskompatibilität bedeutet, dass Objekte eines Subtyps überall auftauchen dürfen, wo Objekte seines Supertyps erwartet werden. Ein Subtyp ist also per Definition mit seinem Supertyp zuweisungskompatibel.

Frage: Was impliziert die Definition von Subtypen in Bezug auf Zuweisungskompatibilität?
Antwort: Die Definition von Subtypen impliziert Zuweisungskompatibilität, das heißt, Objekte eines Subtyps dürfen überall auftauchen, wo Objekte seines Supertyps erwartet werden, und sie dürfen auch Werte von jemandem zugreifen, der bei einer Zeichnung auf ihre Zeilen zugreifen will.

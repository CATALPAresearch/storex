4.1.4 Reihenfolge der Auswertung von geschachtelten Ausdrücken
Da Ausdrücke andere Ausdrücke enthalten können, stellt sich die Frage nach der Reihen-
folge der Auswertung von geschachtelten Ausdrücken. Diese wird, wie in anderen Sprachen
auch, implizit über Präzedenzen und explizit über Klammern geregelt.
Bei der doppelten Zuweisung in Zeile 38 oben ist zunächst vielleicht nicht klar, welche der
beiden Zuweisungen zuerst ausgewertet (ausgeführt) werden soll: y := x oder x := 1.
Wenn man jedoch weiß, dass es sich bei y := x := 1 um einen geschachtelten Ausdruck
handelt und jeder (Teil-)Ausdruck für ein Objekt steht, dann muss der zweite Ausdruck zu-
erst ausgewertet und durch das Ergebnis, „1“, ersetzt werden, denn andernfalls wäre die
„1“ dem Ergebnis von y := x zuzuweisen, was aber nach Abschnitt 4.1.3 keine Variable,
sondern ein Objekt ist. Zeile 38 weist also zuerst x und dann y das Objekt „1“ zu — die
Auswertung erfolgt von rechts nach links.
Das ist allerdings ein Sonderfall. Grundsätzlich werden in SMALLTALK näm-
lich alle Ausdrücke von links nach rechts ausgewertet. Dabei habe n aller-
dings unäre Ausdrücke Vorrang vor binären und diese wiederum Vorrang vor Schlüsselwort-
nachrichten, so dass nur bei gleichrangigen Ausdrücken die Auswertung von links nach
rechts erfolgt. So wird beispielsweise in
71 x + 1 < y
zunächst die Nachricht „ +“ an das Objekt, auf das x verweist, mit Argument 1 geschickt
und an das Ergebnis die Nachricht „<“ mit y als Parameter. Umgekehrt wird bei
72 x < y - 1 Auswertung eines
Nachrichten -
ausdrucks als
Methodenaufruf
Zusammenfassung
Auswertung von
links nach rechts
zunächst der Vergleich angestellt und an das Ergebnis, eines der beiden Objekte „true“ und
„false“, die Nachricht „ –“ mit Argument 1 geschickt. Jedoch wird der Wahrheitswert (das
Wahrheitsobjekt) die Nachricht nicht verstehen und entsprechend mit einer Meldung wie
„Nachricht nicht verstanden“ reagieren. Um die Präzedenz zu ändern, kann man einfach
Klammern s etzen:
73 x < (y - 1)
hat das gewünschte Ergebnis. Individuelle Operatorpräzedenzen (wie z. B. Punktrechnung
vor Strichrechnung) kennt SMALLTALK nicht.
Bei mehrstelligen Nachrichten mit Schlüsselwörtern werden alle Sc hlüs-
selwörter eines Ausdrucks als zu einer Nachricht gehörig interpretiert, es
sei denn, es wurden Klammern gesetzt. Der Ausdruck
74 einEmpfänger
75 tueDiesMitDem: erstesArgument
76 nachdemDuDasGetanHast: zweitesArgument
wird also als eine Nachricht interpretie rt; falls
77 einEmpfänger
78 tueDiesMitDem: (erstesArgument
79       nachdemDuDasGetanHast: zweitesArgument)
gemeint gewesen sein sollte, müssen eben die Klammern entsprechend gesetzt werden.
(Man beachte, dass im geklammerten Ausdruck erstesArgument Empfä nger der Nach-
richt nachdemDuDasGetanHast: mit zweitesArgument als Parameter ist. Das Ergebnis
der Auswertung dieses Ausdrucks ist dann Parameter der Nachricht tueDiesMitDem: an
einEmpfänger .)

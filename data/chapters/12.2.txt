12.2 Das Einbeziehen überschriebener Methoden: Nachrichten an
super
Nicht selten will eine überschreibende Methode die überschriebene nicht komplett ersetzen,
sondern lediglich modifizieren. Dies ist z. B. regelmäßig bei den als Konstruktoren fungie-
renden Klassenmethoden new und new: der Fall: Selbst wenn sie überschrieben werden,
müssen sie doch das grundlege nde Verhalten beibehalten, also neue Instanzen der Klasse
zurückgeben. Dies geschieht am sinnvollsten, indem aus der überschreibenden Methode
die überschriebene Definition aufgerufen und um die gewünschten zusätzlichen Ausdrücke
ergänzt wird. Nur leider is t diese nicht mehr sichtbar — sie wurde ja gerade überschrieben.
Für diesen Zweck verfügt SMALLTALK über eine weitere Pseudovariable, „super“ genannt.
Die Verwendung von super als Nachrichtenempfänger in einer Methodendefinition be-
wirkt, dass mit der Such e nach der zur Nachricht passenden, „aufgerufenen“ Methoden-
definition in der (direkten) Superklasse der Klasse, in der sich der aufrufende Ausdruck (die
aufrufende Methode) befindet, begonnen wird.
Man beachte, dass die Suche anders als bei self unabhängig von der
Klasse des Objekts ist, für das super steht: Obwohl super genau wie
self als Objekt stets den aktuellen Nachrichtenempfänger bezeichnet,
bewirkt super immer eine von der Klasse des k onkreten Empfängerob-
jekts losgelöste Suche, die eben mit der Superklasse der Klasse, in der
super verwendet wird, beginnt und nicht etwa mit der Superklasse der Klasse, von der das
(durch super bezeichnete) Empfängerobjekt eine direkte Instanz ist.
Selbstt estaufgabe 12.2
Probieren Sie aus, was passiert, wenn Sie in der Klasse Sub von oben folgende Methode hinzufügen:

68.1 Bedeutung
Das Gesetz Demeters besagt nicht mehr, als dass Nachrichten nur an Objekte versendet
werden dürfen, die der Sender selbst kennt oder erzeugt. Dabei ist Kennen ganz im Sinne
von Kurseinheit 1 zu verstehen: Ein Objekt kennt ein anderes, wenn es in direkter Beziehung
dazu steht, wenn es also auf eine Variable direkt (also ohne den Umw eg über ein anderes
Objekt) Zugriff hat, die das andere Objekt benennt. Es kennt das andere Objekt dauerhaft
(oder zumindest für eine längere Dauer), wenn es sich bei der Variable um eine Instanzvari-
able handelt, und temporär, wenn es sich bei der Variable um den formalen Parameter einer
Methode handelt (wobei die Dauer des Kennens dann auf die Dauer der Abarbeitung der
Methode beschränkt ist, es sei denn, der formale Parameter wird einer Instanzvariable zu-
gewiesen). Temporäre (lokale) Variablen werden beim Gesetz Demeters nicht mitgezählt.
Das Gesetz Demeters wird typischerweise verletzt, wenn Nachrichten an
Objekte gesendet (Methoden auf Objekten aufgerufen) werden, die
selbst nur als Ergebnis eines Nachrichtena usdrucks (Methodenaufrufs)
typische Ursache der
Verletzung des
Gesetzes
vorliegen. Dies ist in der Regel bei Kettenaufrufen der Fall (s. u.), kann aber auch über eine
zwischenzeitliche Zuweisung zu einer temporären Variable erfolgen.
Sinn und Zweck des Gesetzes Demeters ist, die Kopplung und damit die
Entwurfsabhängigkeiten zwischen Klassen zu verringern. Wird das Gesetz Demeters ver-
letzt, kann die Änderung (des Protokolls) einer Klasse dazu führen, dass auch Klassen ange-
passt werden m üssen, die selbst in keiner unmittelbaren Beziehung zu der Klasse stehen
(sondern eben nur in einer mittelbaren, die nach dem Gesetz vermieden werden soll).
Das Gesetz Demeters wird oft (und leicht verkürzt) in folgender Phrase zusammen gefasst :
Bezogen auf SMALLTALK heißt das, dass Methodenaufrufe zwar geschachtelt, aber nicht ver-
kettet erfolgen dürfen:
1662 a doX
ist also erlaubt, wenn a eine Ins tanzvariable oder ein formaler Parameter ist, ebenso
1663 a doX: b doY
wenn für b dasselbe gilt, nicht jedoch
1664 a doX doY
oder
1665 | b |
1666 b := a doX.
1667 b doY
Man beachte, dass Demeters Gesetz faktisch eine neue, kontextabhängige Zugreif barkeits-
regel einführt: Eigenschaften von Objekten, die ein Objekt nicht selbst kennt, sind für das
Objekt gleichgestellt mit denen von Objekten, die es zwar selbst kennt , auf die es aber nicht
zugreifen darf .
